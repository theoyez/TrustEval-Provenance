
<!doctype html><html><head>
<meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1">
<title>Compare</title>
<style>body{background:#0a0c0d;color:#e7eaed;font-family:Inter,system-ui,Segoe UI,Roboto,Arial,sans-serif}</style>
<link rel="stylesheet" href="../config/theme.css?v=20250930183112">
</head><body>
<div class="container">
  <a class="btn" href="../index.html">← Leaderboard</a>
  <h1>Compare runs</h1>
  <div style="display:flex;gap:10px;align-items:center;margin:10px 0">
    <select id="L" class="btn"></select>
    <select id="R" class="btn"></select>
    <a id="open" class="btn" target="_blank">Open reports</a>
  </div>
  <table class="table"><thead><tr><th>Metric</th><th id="lh"></th><th id="rh"></th><th>Δ (R−L)</th></tr></thead><tbody id="tb"></tbody></table>
</div>
<script>
const fmt=p=>(p*100).toFixed(1)+'%'; let runs=[];
function fill(id){const s=document.getElementById(id); s.innerHTML=runs.map(r=>`<option value="${r.run_id}">${r.run_id} — ${r.meta.model}</option>`).join('');}
function get(id){const v=document.getElementById(id).value; return runs.find(r=>r.run_id===v);}
function render(){const a=get('L'), b=get('R'); if(!a||!b) return;
  lh.textContent=a.run_id; rh.textContent=b.run_id;
  const rows=[
    ['Accuracy',a.accuracy,b.accuracy],
    ['Grounding',a.grounding,b.grounding],
    ['Safety',a.safety,b.safety],
    ['Robustness',a.robustness,b.robustness], ['Bias',a.bias,b.bias], ['Calibration',a.calibration,b.calibration],
    ['Trust',a.trust_score,b.trust_score]
  ].map(([n,x,y])=>`<tr><td>${n}</td><td>${fmt(x)}</td><td>${fmt(y)}</td><td style="color:${(y-x)>=0?'#49d39b':'#f47272'}">${((y-x)*100).toFixed(1)}%</td></tr>`).join('');
  tb.innerHTML=rows;
  open.href = `../data/reports/${a.run_id}.html`;
  open.onclick = ()=>window.open(`../data/reports/${b.run_id}.html`,'_blank');
}
(async function(){const data = await fetch('../leaderboard.json').then(r=>r.json()); runs=data.runs||[]; fill('L'); fill('R'); render(); ['L','R'].forEach(id=>document.getElementById(id).addEventListener('change', render));})();
</script>
</body></html>
